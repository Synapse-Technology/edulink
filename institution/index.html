<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduLink KE - Institution Dashboard</title>
    <link rel="stylesheet" href="assets/css/dashboard.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Fixed Global Header -->
    <header class="top-header">
        <div class="header-left">
            <h1 class="logo">EduLink KE</h1>
        </div>
        <div class="header-right">
            <div class="notification-icon">
                <i class="fas fa-bell"></i>
            </div>
            <div class="profile-pic">
                <img src="assets/images/profile-placeholder.jpg" alt="Admin Profile" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9IiMzM0Q5OTkiLz4KPHN2ZyB4PSIxMiIgeT0iMTIiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJ3aGl0ZSI+CjxwYXRoIGQ9Ik0xMiAxMmMyLjIxIDAgNC0xLjc5IDQtNHMtMS43OS00LTQtNC00IDEuNzktNCA0IDEuNzkgNCA0IDR6bTAgMmMtMi42NyAwLTggMS4zNC04IDR2MmgxNnYtMmMwLTIuNjYtNS4zMy00LTgtNHoiLz4KPC9zdmc+Cjwvc3ZnPgo='">
            </div>
        </div>
    </header>
    <!-- Main Container -->
    <div class=[]"main-container">
        <!-- Left Sidebar Navigation -->
        <nav class="sidebar">
            <ul class="nav-menu">
                <li class="nav-item active">
                    <a href="#dashboard" class="nav-link" data-section="dashboard">
                        <i class="fas fa-tachometer-alt"></i>
                        <span>Dashboard</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#departments" class="nav-link" data-section="departments">
                        <i class="fas fa-building"></i>
                        <span>Departments</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#internships" class="nav-link" data-section="internships">
                        <i class="fas fa-briefcase"></i>
                        <span>Internships</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#logbooks" class="nav-link" data-section="logbooks">
                        <i class="fas fa-book"></i>
                        <span>Logbooks</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#certificates" class="nav-link" data-section="certificates">
                        <i class="fas fa-certificate"></i>
                        <span>Certificates</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#reports" class="nav-link" data-section="reports">
                        <i class="fas fa-chart-bar"></i>
                        <span>Reports</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#settings" class="nav-link" data-section="settings">
                        <i class="fas fa-cog"></i>
                        <span>Settings</span>
                    </a>
                </li>
            </ul>
        </nav>

        <!-- Main Content Area -->
        <main class="main-content">
            <div class="page-header" style="display: flex; align-items: center; gap: 18px; margin-bottom: 24px;">
                <h1 style="font-size: 2rem; color: var(--primary); margin: 0;">EduLink KE</h1>
                <span style="font-size: 1.1rem; color: var(--text-muted);">Welcome to your institution dashboard!</span>
            </div>
            <!-- Dashboard Section -->
            <section id="dashboard" class="content-section active">
                <div class="dashboard-header">
                    <h2>Dashboard Overview</h2>
                    <p>Monitor your institution's internship activities and student progress</p>
                </div>

                <!-- Summary Cards -->
                <div class="summary-cards">
                    <div class="card">
                        <div class="card-icon">
                            <i class="fas fa-folder" style="color: #FFD700;"></i>
                        </div>
                        <div class="card-content">
                            <h3>Active Internships</h3>
                            <p class="card-value">12</p>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-icon">
                            <i class="fas fa-file-alt" style="color: #4CAF50;"></i>
                        </div>
                        <div class="card-content">
                            <h3>Pending Logbooks</h3>
                            <p class="card-value">5</p>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-icon">
                            <i class="fas fa-graduation-cap" style="color: #2196F3;"></i>
                        </div>
                        <div class="card-content">
                            <h3>Verified Students</h3>
                            <p class="card-value">120/150</p>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-icon">
                            <i class="fas fa-scroll" style="color: #9C27B0;"></i>
                        </div>
                        <div class="card-content">
                            <h3>Certificates Issued</h3>
                            <p class="card-value">30</p>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-icon">
                            <i class="fas fa-hourglass-half" style="color: #FF9800;"></i>
                        </div>
                        <div class="card-content">
                            <h3>Avg. Completion Time</h3>
                            <p class="card-value">10wks</p>
                        </div>
                    </div>
                </div>

               
                <!-- Recent Activity -->
                <div class="recent-activity">
                    <h3>Recent Activity</h3>
                    <div class="activity-list">
                        <div class="activity-item">
                            <div class="activity-icon success">
                                <i class="fas fa-check"></i>
                            </div>
                            <div class="activity-content">
                                <p>Lucy Wanjiru submitted Week 4 report</p>
                                <span class="activity-time">2 hours ago</span>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon info">
                                <i class="fas fa-briefcase"></i>
                            </div>
                            <div class="activity-content">
                                <p>IT Dept posted a new internship opportunity</p>
                                <span class="activity-time">4 hours ago</span>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon error">
                                <i class="fas fa-times"></i>
                            </div>
                            <div class="activity-content">
                                <p>James Kariuki's application was declined</p>
                                <span class="activity-time">6 hours ago</span>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon warning">
                                <i class="fas fa-comment"></i>
                            </div>
                            <div class="activity-content">
                                <p>Supervisor feedback submitted for 2 students</p>
                                <span class="activity-time">1 day ago</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Students Section -->
            <section id="students" class="content-section">
                <div class="section-header">
                    <h2>Student Management</h2>
                </div>
                <div class="filters">
                    <select id="departmentFilter">
                        <option value="">All Departments</option>
                    </select>
                    <select id="statusFilter">
                        <option value="">All Status</option>
                        <option value="active">Active</option>
                        <option value="pending">Pending</option>
                        <option value="suspended">Suspended</option>
                    </select>
                    <input type="text" id="searchStudent" placeholder="Search students...">
                </div>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Department</th>
                                <th>Supervisor</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="studentsTableBody">
                            <!-- Students will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Supervisors Section -->
            <section id="supervisors" class="content-section">
                <div class="section-header">
                    <h2>Supervisor Management</h2>
                    <button class="btn btn-primary" onclick="showAddSupervisorModal()">
                        <i class="fas fa-plus"></i> Add Supervisor
                    </button>
                </div>

                <div class="supervisors-grid" id="supervisorsGrid">
                    <!-- Supervisors will be loaded here -->
                </div>
            </section>

            <!-- Logbooks Section -->
            <section id="logbooks" class="content-section">
                <div class="section-header">
                    <h2>Logbook Review</h2>
                </div>

                <div class="logbooks-container" id="logbooksContainer">
                    <!-- Logbooks will be loaded here -->
                </div>
            </section>

            <!-- Reports Section -->
            <section id="reports" class="content-section">
                <div class="section-header">
                    <h2>Final Reports</h2>
                </div>

                <div class="reports-container" id="reportsContainer">
                    <!-- Reports will be loaded here -->
                </div>
            </section>

            <!-- Internships Section -->
            <section id="internships" class="content-section">
                <div class="section-header">
                    <h2>Internship Management</h2>
                    <button class="btn btn-primary" onclick="showAddInternshipModal()">
                        <i class="fas fa-plus"></i> Add Internship
                    </button>
                </div>

                <div class="internships-container" id="internshipsContainer">
                    <!-- Internships will be loaded here -->
                </div>
            </section>

            <!-- Certificates Section -->
            <section id="certificates" class="content-section">
                <div class="section-header">
                    <h2>Certificate Management</h2>
                    <button class="btn btn-primary" onclick="generateCertificates()">
                        <i class="fas fa-certificate"></i> Generate Certificates
                    </button>
                </div>

                <div class="certificates-container" id="certificatesContainer">
                    <!-- Certificates will be loaded here -->
                </div>
            </section>

            <!-- Departments Section -->
            <section id="departments" class="content-section">
                <div class="section-header">
                    <h2><i class="fas fa-building"></i> Departments</h2>
                </div>
                <!-- Top Navbar Tabs -->
                <div class="departments-tabs-nav" style="display: flex; gap: 0; border-bottom: 2px solid #e0e0e0; margin-bottom: 24px;">
                    <button class="departments-tab-btn active" data-tab="manage-departments" style="padding: 12px 32px; border: none; background: none; font-weight:600; color: #888; border-bottom: 3px solid transparent; cursor: pointer;">Manage Departments</button>
                    <button class="departments-tab-btn" data-tab="add-department" style="padding: 12px 32px; border: none; background: none; font-weight: 600; color: #888; border-bottom: 3px solid transparent; cursor: pointer;">Add Department</button>
                    <button class="departments-tab-btn" data-tab="assign-supervisors" style="padding: 12px 32px; border: none; background: none; font-weight: 600; color: #888; border-bottom: 3px solid transparent; cursor: pointer;">Assign Supervisors</button>
                </div>
                <!-- Tab Content -->
                <div id="departments-tab-content">
                    <div class="departments-tab-panel" data-tab-panel="manage-departments" style="display: block;">
                        <div style="margin-bottom: 18px;">
                            <label for="manageDepartmentsSelect"><b>Select Department:</b></label>
                            <select id="manageDepartmentsSelect" style="margin-left: 10px; padding: 6px 12px; border-radius: 5px; border: 1px solid #e0e0e0;"></select>
                        </div>
                        <div id="manageDepartmentsDetails"></div>
                    </div>
                    <div class="departments-tab-panel" data-tab-panel="add-department" style="display: none;">
                        <!-- Add Department Form -->
                        <form id="addDepartmentTabForm" style="max-width: 600px; margin: 0 auto;">
                            <div class="form-group">
                                <label><b>Department Name</b></label>
                                <input type="text" name="departmentName" required placeholder="e.g. Computer Science" style="width:100%;padding:10px;margin-bottom:10px;">
                            </div>
                            <div class="form-group">
                                <label><b>Courses</b></label>
                                <div id="addDeptCoursesList"></div>
                                <button type="button" class="btn btn-secondary" id="addDeptAddCourseBtn" style="margin-top:6px;"><i class="fas fa-plus"></i> Add Course</button>
                            </div>
                            <div class="form-group">
                                <label><b>Supervisors</b></label>
                                <div id="addDeptSupervisorsList"></div>
                                <button type="button" class="btn btn-secondary" id="addDeptAddSupervisorBtn" style="margin-top:6px;"><i class="fas fa-plus"></i> Add Supervisor</button>
                            </div>
                            <div style="text-align:right;margin-top:18px;">
                                <button type="submit" class="btn btn-primary"><i class="fas fa-check"></i> Create Department</button>
                            </div>
                        </form>
                    </div>
                    <div class="departments-tab-panel" data-tab-panel="assign-supervisors" style="display: none;">
                        <div style="margin-bottom: 18px;">
                            <label for="assignSupervisorsDeptSelect"><b>Select Department:</b></label>
                            <select id="assignSupervisorsDeptSelect" style="margin-left: 10px; padding: 6px 12px; border-radius: 5px; border: 1px solid #e0e0e0;"></select>
                        </div>
                        <div id="departmentsAssignSupervisorsContainer"></div>
                    </div>
                </div>
            </section>

            <!-- Settings Section -->
            <section id="settings" class="content-section">
                <div class="section-header">
                    <h2>Settings</h2>
                </div>
                <!-- Dark Mode Toggle Button -->
                <button class="dark-mode-toggle" id="darkModeToggle" aria-label="Toggle dark mode">
                    <i class="fas fa-moon"></i>
                </button>
                <div class="settings-container">
                    <div class="settings-card">
                        <h3>Institution Information</h3>
                        <form id="institutionForm">
                            <div class="form-group">
                                <label>Institution Name</label>
                                <input type="text" value="EduLink Institution" required>
                            </div>
                            <div class="form-group">
                                <label>Email</label>
                                <input type="email" value="admin@edulink.edu" required>
                            </div>
                            <div class="form-group">
                                <label>Phone</label>
                                <input type="tel" value="+254 700 000 000">
                            </div>
                            <button type="submit" class="btn btn-primary">Save Changes</button>
                        </form>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Modals for Department, Supervisor, and Course management -->
    <div id="addDepartmentModal" class="modal">
        <div class="modal-content" style="max-width: 700px;">
            <span class="close">&times;</span>
            <h2><i class="fas fa-building"></i> Add New Department</h2>
            <form id="addDepartmentForm">
                <div class="form-row" style="display: flex; gap: 24px; flex-wrap: wrap;">
                    <div class="form-group" style="flex: 1 1 220px; min-width: 220px;">
                        <label><i class="fas fa-building"></i> Department Name</label>
                        <input type="text" name="departmentName" required placeholder="e.g. Computer Science">
                    </div>
                </div>
                <div class="form-row" style="display: flex; gap: 24px; flex-wrap: wrap;">
                    <div class="form-group" style="flex: 1 1 220px; min-width: 220px;">
                        <label><i class="fas fa-book"></i> Courses</label>
                        <div id="coursesList" style="margin-bottom: 8px;"></div>
                        <button type="button" class="btn btn-secondary" onclick="addCourseInput()"><i class="fas fa-plus"></i> Add Course</button>
                    </div>
                    <div class="form-group" style="flex: 1 1 220px; min-width: 220px;">
                        <label><i class="fas fa-user-tie"></i> Supervisors</label>
                        <div id="supervisorsList" style="margin-bottom: 8px;"></div>
                        <button type="button" class="btn btn-secondary" onclick="addSupervisorInput()"><i class="fas fa-plus"></i> Add Supervisor</button>
                    </div>
                </div>
                <div class="form-row" style="margin-top: 18px; text-align: right;">
                    <button type="submit" class="btn btn-primary"><i class="fas fa-check"></i> Add Department</button>
                </div>
            </form>
        </div>
    </div>
    <div id="editDepartmentModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Edit Department</h2>
            <form id="editDepartmentForm">
                <div class="form-group">
                    <label>Department Name</label>
                    <input type="text" name="editDepartmentName" required>
                </div>
                <input type="hidden" name="editDepartmentId">
                <button type="submit" class="btn btn-primary">Save Changes</button>
            </form>
        </div>
    </div>
    <div id="addSupervisorModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Add Supervisor</h2>
            <form id="addSupervisorForm">
                <div class="form-group">
                    <label>Full Name</label>
                    <input type="text" name="fullName" required>
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" name="email" required>
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="text" name="password" required placeholder="Enter or auto-generate">
                </div>
                <input type="hidden" name="supervisorDepartmentId">
                <button type="submit" class="btn btn-primary">Add Supervisor</button>
            </form>
        </div>
    </div>
    <div id="addCourseModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Add Course</h2>
            <form id="addCourseForm">
                <div class="form-group">
                    <label>Course Name</label>
                    <input type="text" name="courseName" required>
                </div>
                <input type="hidden" name="courseDepartmentId">
                <button type="submit" class="btn btn-primary">Add Course</button>
            </form>
        </div>
    </div>

    <!-- Student Registration Demo (outside admin dashboard) -->
    <section id="student-registration-demo" class="content-section" style="display:none;">
        <div class="section-header">
            <h2>Student Registration (Demo)</h2>
        </div>
        <form id="studentRegistrationForm">
            <div class="form-group">
                <label>Full Name</label>
                <input type="text" name="studentName" required>
            </div>
            <div class="form-group">
                <label>Email</label>
                <input type="email" name="studentEmail" required>
            </div>
            <div class="form-group">
                <label>Department</label>
                <select id="studentDepartmentDropdown" name="studentDepartment" required></select>
            </div>
            <div class="form-group">
                <label>Password</label>
                <input type="password" name="studentPassword" required>
            </div>
            <button type="submit" class="btn btn-primary">Register</button>
        </form>
    </section>

    <script src="assets/js/dashboard.js"></script>
</body>
</html> 