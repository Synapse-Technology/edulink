# Edulink Backend Environment Configuration Template
# Copy this file to .env and update the values for your environment

# =============================================================================
# DJANGO CORE SETTINGS
# =============================================================================

# Django secret key (REQUIRED - generate a new one for production)
# You can generate one at: https://djecrety.ir/
SECRET_KEY=your-secret-key-here-change-this-in-production

# Debug mode (set to False in production)
DEBUG=True

# Allowed hosts (comma-separated list)
# In production, set this to your domain(s)
ALLOWED_HOSTS=localhost,127.0.0.1,0.0.0.0

# Django settings module
DJANGO_SETTINGS_MODULE=Edulink.settings.dev

# =============================================================================
# PRODUCTION DOMAIN CONFIGURATION
# =============================================================================

# Production domain names (used in prod.py)
DOMAIN_NAME=edulink.com
API_DOMAIN=api.edulink.com
WWW_DOMAIN=www.edulink.com

# Frontend and API URLs
FRONTEND_URL=https://edulink.com
API_URL=https://api.edulink.com
ADMIN_URL=https://admin.edulink.com

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Database URL (PostgreSQL recommended for production)
# Format: postgresql://user:password@host:port/database
# For SQLite (development): sqlite:///db.sqlite3
DATABASE_URL=postgresql://edulink_user:edulink_password@localhost:5432/edulink_db

# Alternative individual database settings
DB_ENGINE=django.db.backends.postgresql
DB_NAME=edulink_db
DB_USER=edulink_user
DB_PASSWORD=edulink_password
DB_HOST=localhost
DB_PORT=5432

# Database connection options
DB_CONN_MAX_AGE=600
DB_CONN_HEALTH_CHECKS=True

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Redis URL for caching and sessions
# Format: redis://[:password@]host:port[/db]
REDIS_URL=redis://localhost:6379/0

# Alternative Redis settings
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# Cache timeout settings (in seconds)
CACHE_TIMEOUT=300
SESSION_CACHE_TIMEOUT=3600

# =============================================================================
# CELERY CONFIGURATION
# =============================================================================

# Celery broker URL (usually Redis)
CELERY_BROKER_URL=redis://localhost:6379/1

# Celery result backend
CELERY_RESULT_BACKEND=redis://localhost:6379/1

# Celery settings
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
CELERY_TIMEZONE=UTC
CELERY_ENABLE_UTC=True

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================

# Email backend
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend

# SMTP settings
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_USE_SSL=False
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-app-password

# Default from email
DEFAULT_FROM_EMAIL=noreply@edulink.com
SERVER_EMAIL=server@edulink.com

# Admin email for error notifications
ADMIN_EMAIL=admin@edulink.com

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# CORS settings
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
CORS_ALLOW_CREDENTIALS=True
CORS_ALLOW_ALL_ORIGINS=False

# CSRF settings
CSRF_TRUSTED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
CSRF_COOKIE_SECURE=False
CSRF_COOKIE_HTTPONLY=True
CSRF_COOKIE_SAMESITE=Lax

# Session settings
SESSION_COOKIE_SECURE=False
SESSION_COOKIE_HTTPONLY=True
SESSION_COOKIE_SAMESITE=Lax
SESSION_COOKIE_AGE=86400

# Security headers (set to True in production with HTTPS)
SECURE_SSL_REDIRECT=False
SECURE_HSTS_SECONDS=0
SECURE_HSTS_INCLUDE_SUBDOMAINS=False
SECURE_HSTS_PRELOAD=False
SECURE_CONTENT_TYPE_NOSNIFF=True
SECURE_BROWSER_XSS_FILTER=True
X_FRAME_OPTIONS=DENY

# Development mode settings
DEVELOPMENT_MODE=True
SKIP_SECURITY_FOR_LOCALHOST=True

# Admin security (comma-separated IP addresses for production)
ADMIN_ALLOWED_IPS=

# =============================================================================
# PRODUCTION FILE STORAGE
# =============================================================================

# Media files root directory
MEDIA_ROOT=/var/www/edulink/media

# Static files root directory (for production)
STATIC_ROOT=/var/www/edulink/static

# =============================================================================
# PRODUCTION URL CONFIGURATION
# =============================================================================

# Password reset URL template
PASSWORD_RESET_URL_TEMPLATE=https://edulink.com/reset-password/{uid}/{token}/

# =============================================================================
# JWT AUTHENTICATION
# =============================================================================

# JWT settings
JWT_ACCESS_TOKEN_LIFETIME=15
JWT_REFRESH_TOKEN_LIFETIME=7
JWT_ROTATE_REFRESH_TOKENS=True
JWT_BLACKLIST_AFTER_ROTATION=True
JWT_ALGORITHM=HS256

# JWT signing key (leave empty to use SECRET_KEY)
JWT_SIGNING_KEY=

# =============================================================================
# FILE STORAGE
# =============================================================================

# Media files
MEDIA_URL=/media/
MEDIA_ROOT=media

# Static files
STATIC_URL=/static/
STATIC_ROOT=staticfiles

# File upload settings
FILE_UPLOAD_MAX_MEMORY_SIZE=5242880
DATA_UPLOAD_MAX_MEMORY_SIZE=5242880
FILE_UPLOAD_PERMISSIONS=0o644

# AWS S3 settings (if using S3 for file storage)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_STORAGE_BUCKET_NAME=
AWS_S3_REGION_NAME=us-east-1
AWS_S3_CUSTOM_DOMAIN=
AWS_DEFAULT_ACL=private
AWS_S3_OBJECT_PARAMETERS={'CacheControl': 'max-age=86400'}

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log file path
LOG_FILE=logs/edulink.log

# Enable/disable specific loggers
LOG_DATABASE_QUERIES=False
LOG_REQUESTS=True
LOG_SECURITY_EVENTS=True

# Sentry DSN for error tracking (optional)
SENTRY_DSN=
SENTRY_ENVIRONMENT=development

# =============================================================================
# API CONFIGURATION
# =============================================================================

# API rate limiting
API_RATE_LIMIT_ANON=100/hour
API_RATE_LIMIT_USER=1000/hour
API_RATE_LIMIT_BURST=10/min

# API pagination
API_PAGE_SIZE=20
API_MAX_PAGE_SIZE=100

# API versioning
API_VERSION=v1
API_DEFAULT_VERSION=v1

# =============================================================================
# THIRD-PARTY SERVICES
# =============================================================================

# Google OAuth2 (optional)
GOOGLE_OAUTH2_CLIENT_ID=
GOOGLE_OAUTH2_CLIENT_SECRET=

# Microsoft OAuth2 (optional)
MICROSOFT_OAUTH2_CLIENT_ID=
MICROSOFT_OAUTH2_CLIENT_SECRET=

# SMS service (Twilio example)
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=

# Push notifications (Firebase)
FIREBASE_SERVER_KEY=
FIREBASE_SENDER_ID=

# =============================================================================
# MONITORING AND ANALYTICS
# =============================================================================

# Prometheus metrics
PROMETHEUS_METRICS_ENABLED=True
PROMETHEUS_METRICS_PATH=/metrics

# Health check endpoint
HEALTH_CHECK_ENABLED=True
HEALTH_CHECK_PATH=/health

# Performance monitoring
PERFORMANCE_MONITORING_ENABLED=True
SLOW_QUERY_THRESHOLD=1.0

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Django Debug Toolbar (development only)
DEBUG_TOOLBAR_ENABLED=True
DEBUG_TOOLBAR_INTERNAL_IPS=127.0.0.1,localhost

# Django Extensions (development only)
DJANGO_EXTENSIONS_ENABLED=True

# Test settings
TEST_RUNNER=django.test.runner.DiscoverRunner
TEST_DATABASE_NAME=test_edulink_db

# =============================================================================
# PRODUCTION SETTINGS
# =============================================================================

# Production-specific settings (only used when DEBUG=False)

# Load balancer health check
LOAD_BALANCER_HEALTH_CHECK_PATH=/lb-health

# Gunicorn settings
GUNICORN_WORKERS=4
GUNICORN_WORKER_CLASS=sync
GUNICORN_WORKER_CONNECTIONS=1000
GUNICORN_MAX_REQUESTS=1000
GUNICORN_MAX_REQUESTS_JITTER=100
GUNICORN_TIMEOUT=30
GUNICORN_KEEPALIVE=2

# Nginx settings
NGINX_CLIENT_MAX_BODY_SIZE=10M
NGINX_PROXY_TIMEOUT=60s

# SSL/TLS settings
SSL_CERTIFICATE_PATH=/etc/ssl/certs/edulink.crt
SSL_PRIVATE_KEY_PATH=/etc/ssl/private/edulink.key

# Backup settings
BACKUP_ENABLED=True
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=edulink-backups

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable/disable specific features
FEATURE_USER_REGISTRATION=True
FEATURE_EMAIL_VERIFICATION=True
FEATURE_PASSWORD_RESET=True
FEATURE_TWO_FACTOR_AUTH=False
FEATURE_SOCIAL_LOGIN=False
FEATURE_API_DOCUMENTATION=True
FEATURE_ADMIN_INTERFACE=True
FEATURE_METRICS_COLLECTION=True
FEATURE_AUDIT_LOGGING=True
FEATURE_RATE_LIMITING=True
FEATURE_CACHING=True
FEATURE_SEARCH=True
FEATURE_NOTIFICATIONS=True
FEATURE_FILE_UPLOADS=True
FEATURE_BULK_OPERATIONS=True
FEATURE_EXPORT_DATA=True
FEATURE_IMPORT_DATA=True
FEATURE_SCHEDULED_TASKS=True
FEATURE_REAL_TIME_UPDATES=False
FEATURE_MOBILE_API=True

# =============================================================================
# CUSTOM APPLICATION SETTINGS
# =============================================================================

# Internship-specific settings
INTERNSHIP_MIN_DURATION_WEEKS=4
INTERNSHIP_MAX_DURATION_WEEKS=52
INTERNSHIP_APPLICATION_DEADLINE_DAYS=30
INTERNSHIP_EVALUATION_REMINDER_DAYS=7

# User settings
USER_PASSWORD_MIN_LENGTH=8
USER_PASSWORD_REQUIRE_UPPERCASE=True
USER_PASSWORD_REQUIRE_LOWERCASE=True
USER_PASSWORD_REQUIRE_NUMBERS=True
USER_PASSWORD_REQUIRE_SYMBOLS=False
USER_ACCOUNT_ACTIVATION_DAYS=7
USER_PASSWORD_RESET_TIMEOUT_DAYS=1

# Notification settings
NOTIFICATION_EMAIL_ENABLED=True
NOTIFICATION_SMS_ENABLED=False
NOTIFICATION_PUSH_ENABLED=False
NOTIFICATION_DIGEST_ENABLED=True
NOTIFICATION_DIGEST_FREQUENCY=daily

# Search settings
SEARCH_ENGINE=database
SEARCH_INDEX_UPDATE_FREQUENCY=hourly
SEARCH_RESULTS_PER_PAGE=10
SEARCH_MAX_RESULTS=1000

# =============================================================================
# ENVIRONMENT INFORMATION
# =============================================================================

# Environment name (development, staging, production)
ENVIRONMENT=development

# Application version
APP_VERSION=1.0.0

# Deployment information
DEPLOYMENT_DATE=
DEPLOYMENT_COMMIT=
DEPLOYMENT_BRANCH=

# Contact information
SUPPORT_EMAIL=support@edulink.com
ADMIN_NAME=Edulink Administrator
ADMIN_EMAIL=admin@edulink.com
ORGANIZATION_NAME=Edulink
ORGANIZATION_URL=https://edulink.com

# =============================================================================
# NOTES
# =============================================================================

# 1. Never commit the actual .env file to version control
# 2. Generate a new SECRET_KEY for each environment
# 3. Use strong passwords for database and Redis
# 4. Enable HTTPS in production (set SECURE_* settings to True)
# 5. Configure proper CORS and CSRF settings for your frontend
# 6. Set up proper logging and monitoring in production
# 7. Use environment-specific settings modules
# 8. Regularly rotate secrets and API keys
# 9. Monitor resource usage and adjust limits accordingly
# 10. Test all settings in a staging environment before production