<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EduLink - Interview Management</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <!-- Chart.js for enhanced analytics -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- Date picker for scheduling -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <style>
    :root {
      --primary: #2563eb;
      --primary-dark: #1d4ed8;
      --secondary: #0ea5e9;
      --accent: #f59e0b;
      --success: #10b981;
      --warning: #f59e0b;
      --danger: #ef4444;
      --background: #f8fafc;
      --card-bg: #ffffff;
      --text-primary: #1e293b;
      --text-secondary: #64748b;
      --border: #e2e8f0;
      --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      --gradient-primary: linear-gradient(135deg, #2563eb 0%, #0ea5e9 100%);
      --gradient-secondary: linear-gradient(135deg, #f59e0b 0%, #ef4444 100%);
    }
    
    [data-theme="dark"] {
      --primary: #3b82f6;
      --primary-dark: #2563eb;
      --secondary: #06b6d4;
      --accent: #fbbf24;
      --success: #34d399;
      --warning: #fbbf24;
      --danger: #f87171;
      --background: #0f172a;
      --card-bg: #1e293b;
      --text-primary: #f1f5f9;
      --text-secondary: #94a3b8;
      --border: #334155;
      --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
      --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.3);
      --gradient-primary: linear-gradient(135deg, #3b82f6 0%, #06b6d4 100%);
      --gradient-secondary: linear-gradient(135deg, #fbbf24 0%, #f87171 100%);
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Inter', 'Poppins', sans-serif;
      background: var(--background);
      color: var(--text-primary);
      transition: all 0.3s ease;
    }
    
    .sidebar {
      background: var(--gradient-primary);
      box-shadow: var(--shadow-lg);
      border-right: 1px solid var(--border);
    }
    
    .sidebar-brand {
      font-family: 'Poppins', sans-serif;
      font-weight: 700;
      font-size: 1.75rem;
      color: white;
      text-shadow: 0 2px 4px rgba(0,0,0,0.1);
      letter-spacing: 0.5px;
    }
    
    .nav-item {
      transition: all 0.3s ease;
      border-radius: 12px;
      margin: 4px 8px;
    }
    
    .nav-item:hover {
      background: rgba(255,255,255,0.15);
      transform: translateX(4px);
    }
    
    .nav-item.active {
      background: rgba(255,255,255,0.2);
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }
    
    .main-content {
      background: var(--background);
      min-height: 100vh;
      transition: all 0.3s ease;
    }
    
    .card {
      background: var(--card-bg);
      border: 1px solid var(--border);
      box-shadow: var(--shadow);
      transition: all 0.3s ease;
    }
    
    .card:hover {
      box-shadow: var(--shadow-lg);
      transform: translateY(-2px);
    }
    
    .btn-primary {
      background: var(--gradient-primary);
      border: none;
      color: white;
      transition: all 0.3s ease;
    }
    
    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-lg);
    }
    
    .dark-mode-toggle {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 50%;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: var(--shadow);
    }
    
    .dark-mode-toggle:hover {
      transform: scale(1.1);
      box-shadow: var(--shadow-lg);
    }

    .header {
      background: var(--card-bg);
      border-bottom: 1px solid var(--border);
      padding: 1rem 1.5rem;
      margin-bottom: 1.5rem;
      border-radius: 12px;
      box-shadow: var(--shadow);
    }

    .header-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 1rem;
    }

    .header-left {
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
    }

    .header-right {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .header-title {
      font-size: 1.75rem;
      font-weight: 700;
      color: var(--text-primary);
      margin: 0;
    }

    .header-subtitle {
      font-size: 0.875rem;
      color: var(--text-secondary);
      margin: 0;
    }

    .user-profile {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.5rem 1rem;
      background: var(--bg-secondary);
      border-radius: 8px;
      border: 1px solid var(--border);
    }

    .user-avatar {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: var(--primary);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: 600;
      font-size: 0.875rem;
    }

    .user-info {
      display: flex;
      flex-direction: column;
      gap: 0.125rem;
    }

    .user-name {
      font-size: 0.875rem;
      font-weight: 600;
      color: var(--text-primary);
      margin: 0;
    }

    .user-email {
      font-size: 0.75rem;
      color: var(--text-secondary);
      margin: 0;
    }

    .notification-btn {
      position: relative;
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 8px;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
      color: var(--text-secondary);
    }

    .notification-btn:hover {
      background: var(--bg-secondary);
      color: var(--text-primary);
    }

    .notification-badge {
      position: absolute;
      top: -4px;
      right: -4px;
      background: #ef4444;
      color: white;
      border-radius: 50%;
      width: 16px;
      height: 16px;
      font-size: 0.625rem;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
    }

    .action-btn {
      background: var(--primary);
      color: white;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 8px;
      font-size: 0.875rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .action-btn:hover {
      background: var(--primary-dark);
      transform: translateY(-1px);
    }

    .action-btn.secondary {
      background: var(--card-bg);
      color: var(--text-primary);
      border: 1px solid var(--border);
    }

    .action-btn.secondary:hover {
      background: var(--bg-secondary);
    }

    @media (max-width: 768px) {
      .header {
        padding: 1rem;
        margin-bottom: 1rem;
      }

      .header-content {
        flex-direction: column;
        align-items: flex-start;
        gap: 1rem;
      }

      .header-title {
        font-size: 1.5rem;
      }

      .header-subtitle {
        font-size: 0.8rem;
      }

      .user-info {
        display: none;
      }

      .user-profile {
        padding: 0.5rem;
      }
    }

    @media (max-width: 640px) {
      .header-right {
        flex-wrap: wrap;
        justify-content: flex-start;
        width: 100%;
      }

      .dark-mode-toggle {
        width: 36px;
        height: 36px;
      }

      .user-avatar {
        width: 28px;
        height: 28px;
        font-size: 0.75rem;
      }

      .notification-btn {
        width: 36px;
        height: 36px;
      }

      .action-btn {
        padding: 0.5rem 0.75rem;
        font-size: 0.8rem;
      }
    }
    
    .mobile-menu-btn {
      display: none;
      position: fixed;
      top: 20px;
      left: 20px;
      z-index: 1001;
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 8px;
      width: 44px;
      height: 44px;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: var(--shadow);
    }
    
    .sidebar-overlay {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.5);
      z-index: 998;
    }
    
    .nav-dropdown {
      position: relative;
    }
    
    .dropdown-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease;
    }
    
    .dropdown-content.show {
      max-height: 500px;
    }
    
    .dropdown-arrow {
      transition: transform 0.3s ease;
    }
    
    @media (max-width: 768px) {
      .mobile-menu-btn {
        display: flex;
      }
      
      .sidebar {
        transform: translateX(-100%);
        transition: transform 0.3s ease;
      }
      
      .sidebar.show {
        transform: translateX(0);
      }
      
      .sidebar-overlay.show {
        display: block;
      }
      
      .main-content {
        margin-left: 0;
      }
    }
    
    /* Employer Management Hero Section */
    .employer-management-hero {
      position: relative;
      background: var(--card-bg);
      border-radius: 24px;
      margin-bottom: 3rem;
      overflow: hidden;
      box-shadow: 0 20px 40px rgba(37, 99, 235, 0.08);
      border: 1px solid var(--border);
    }
    
    .employer-management-hero .hero-background {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 1;
    }
    
    .employer-management-hero .hero-pattern {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-image: 
        radial-gradient(circle at 25% 25%, rgba(37, 99, 235, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 75% 75%, rgba(14, 165, 233, 0.1) 0%, transparent 50%),
        linear-gradient(45deg, transparent 40%, rgba(37, 99, 235, 0.02) 50%, transparent 60%);
      background-size: 200px 200px, 150px 150px, 100px 100px;
      animation: patternMove 20s ease-in-out infinite;
    }
    
    @keyframes patternMove {
      0%, 100% { transform: translate(0, 0) rotate(0deg); }
      33% { transform: translate(10px, -10px) rotate(1deg); }
      66% { transform: translate(-5px, 5px) rotate(-0.5deg); }
    }
    
    .employer-management-hero .hero-gradient {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(135deg, 
        rgba(37, 99, 235, 0.05) 0%, 
        rgba(14, 165, 233, 0.03) 50%, 
        rgba(37, 99, 235, 0.02) 100%);
    }
    
    .employer-management-hero .hero-content {
      position: relative;
      z-index: 2;
      display: flex;
      align-items: center;
      gap: 2rem;
      padding: 3rem 2.5rem 2rem;
    }
    
    .employer-management-hero .hero-icon {
      width: 80px;
      height: 80px;
      background: linear-gradient(135deg, #2563eb 0%, #0ea5e9 100%);
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2.5rem;
      color: white;
      box-shadow: 0 8px 24px rgba(37, 99, 235, 0.3);
      animation: iconFloat 3s ease-in-out infinite;
    }
    
    @keyframes iconFloat {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-5px); }
    }
    
    .employer-management-hero .hero-text {
      flex: 1;
    }
    
    .employer-management-hero .hero-title {
      font-size: 2.75rem;
      font-weight: 900;
      color: #1e293b;
      margin-bottom: 1rem;
      letter-spacing: -0.03em;
      line-height: 1.1;
      background: linear-gradient(135deg, #1e293b 0%, #2563eb 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
    }
    
    @supports not (-webkit-background-clip: text) {
      .employer-management-hero .hero-title {
        background: none;
        -webkit-text-fill-color: initial;
        color: #1e293b;
      }
    }
    
    .employer-management-hero .hero-subtitle {
      font-size: 1.25rem;
      color: #64748b;
      line-height: 1.6;
      margin-bottom: 1.5rem;
      max-width: 600px;
      font-weight: 400;
    }
    
    .employer-management-hero .hero-features {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
    }
    
    .employer-management-hero .feature-tag {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 1rem;
      background: rgba(37, 99, 235, 0.1);
      color: #2563eb;
      border-radius: 20px;
      font-size: 0.875rem;
      font-weight: 600;
      border: 1px solid rgba(37, 99, 235, 0.2);
      transition: all 0.3s ease;
    }
    
    .employer-management-hero .feature-tag:hover {
      background: rgba(37, 99, 235, 0.15);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(37, 99, 235, 0.2);
    }
    
    .employer-management-hero .hero-actions {
      position: relative;
      z-index: 2;
      display: flex;
      gap: 1rem;
      padding: 0 2.5rem 2.5rem;
      justify-content: flex-end;
    }
    
    .employer-management-hero .hero-btn {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 1rem 2rem;
      border: none;
      border-radius: 12px;
      font-weight: 600;
      font-size: 0.95rem;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      text-decoration: none;
      outline: none;
    }
    
    .employer-management-hero .hero-btn.primary {
      background: linear-gradient(135deg, #2563eb 0%, #0ea5e9 100%);
      color: white;
      box-shadow: 0 6px 20px rgba(37, 99, 235, 0.3);
    }
    
    .employer-management-hero .hero-btn.primary:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 30px rgba(37, 99, 235, 0.4);
    }
    
    .employer-management-hero .hero-btn.secondary {
      background: #ffffff;
      color: #1e293b;
      border: 2px solid #e2e8f0;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    }
    
    .employer-management-hero .hero-btn.secondary:hover {
      background: #f8fafc;
      border-color: #2563eb;
      color: #2563eb;
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(37, 99, 235, 0.15);
    }
    
    /* Responsive Design for Hero Section */
    @media (max-width: 768px) {
      .employer-management-hero .hero-content {
        flex-direction: column;
        text-align: center;
        padding: 2rem 1.5rem 1.5rem;
      }
      
      .employer-management-hero .hero-title {
        font-size: 2rem;
      }
      
      .employer-management-hero .hero-subtitle {
        font-size: 1.1rem;
      }
      
      .employer-management-hero .hero-actions {
        flex-direction: column;
        padding: 0 1.5rem 2rem;
      }
      
      .employer-management-hero .hero-btn {
        justify-content: center;
      }
    }
  </style>
</head>
<body>


  <!-- Mobile Menu Button -->
  <button class="mobile-menu-btn" onclick="toggleSidebar()">
    <i class="fas fa-bars"></i>
  </button>

  <!-- Sidebar Overlay for Mobile -->
  <div id="sidebarOverlay" class="sidebar-overlay" onclick="toggleSidebar()"></div>

  <!-- Sidebar -->
  <aside id="sidebar" class="sidebar fixed left-0 top-0 h-full w-64 z-999 transform -translate-x-full md:translate-x-0 transition-transform duration-300">
    <div class="p-6">
      <div class="sidebar-brand text-center mb-8 pb-6 border-b border-white border-opacity-20">
        EduLink
        <div class="text-sm font-normal text-white text-opacity-80 mt-1">Employer Portal</div>
      </div>
      
      <nav class="space-y-1">
        <!-- Core Navigation -->
        <button onclick="window.location.href='dashboard.html'" class="nav-item w-full text-left px-3 py-2 rounded-lg text-white flex items-center space-x-2 text-sm">
          <i class="fas fa-chart-line w-4"></i>
          <span>Dashboard</span>
        </button>
        <a href="post-opportunities.html" class="nav-item w-full text-left px-3 py-2 rounded-lg text-white flex items-center space-x-2 text-sm hover:bg-white hover:bg-opacity-10">
        <i class="fas fa-plus-circle w-4"></i>
        <span>Post Opportunities</span>
      </a>
      <a href="notifications.html" class="nav-item w-full text-left px-3 py-2 rounded-lg text-white flex items-center space-x-2 text-sm hover:bg-white hover:bg-opacity-10">
        <i class="fas fa-bell w-4"></i>
        <span>Notifications</span>
      </a>
      
      <!-- Management Dropdown -->
        <div class="nav-dropdown">
          <button onclick="toggleDropdown('management')" class="nav-item w-full text-left px-3 py-2 rounded-lg text-white flex items-center justify-between text-sm hover:bg-white hover:bg-opacity-10">
            <div class="flex items-center space-x-2">
              <i class="fas fa-users w-4"></i>
              <span>Management</span>
            </div>
            <i class="fas fa-chevron-down w-3 dropdown-arrow transition-transform" id="management-arrow"></i>
          </button>
          <div id="management-dropdown" class="dropdown-content ml-4 mt-1 space-y-1">
            <a href="applications.html" class="nav-item w-full text-left px-3 py-1.5 rounded text-white flex items-center space-x-2 text-xs hover:bg-white hover:bg-opacity-10">
              <i class="fas fa-file-alt w-3"></i>
              <span>Applications</span>
            </a>
            <a href="interns.html" class="nav-item w-full text-left px-3 py-1.5 rounded text-white flex items-center space-x-2 text-xs hover:bg-white hover:bg-opacity-10">
              <i class="fas fa-users w-3"></i>
              <span>Active Interns</span>
            </a>
            <a href="interviews.html" class="nav-item active w-full text-left px-3 py-1.5 rounded text-white flex items-center space-x-2 text-xs hover:bg-white hover:bg-opacity-10">
              <i class="fas fa-calendar-alt w-3"></i>
              <span>Interviews</span>
            </a>
            <button onclick="showSection('feedback')" class="nav-item w-full text-left px-3 py-1.5 rounded text-white flex items-center space-x-2 text-xs hover:bg-white hover:bg-opacity-10">
              <i class="fas fa-comments w-3"></i>
              <span>Feedback</span>
            </button>
            <a href="supervisors.html" class="nav-item w-full text-left px-3 py-1.5 rounded text-white flex items-center space-x-2 text-xs hover:bg-white hover:bg-opacity-10">
              <i class="fas fa-users-cog w-3"></i>
              <span>Supervisors</span>
            </a>
          </div>
        </div>
        
        <!-- Analytics Dropdown -->
      <div class="nav-dropdown">
        <button onclick="toggleDropdown('analytics')" class="nav-item w-full text-left px-3 py-2 rounded-lg text-white flex items-center justify-between text-sm hover:bg-white hover:bg-opacity-10">
          <div class="flex items-center space-x-2">
            <i class="fas fa-chart-bar w-4"></i>
            <span>Analytics</span>
          </div>
          <i class="fas fa-chevron-down w-3 dropdown-arrow transition-transform" id="analytics-arrow"></i>
        </button>
        <div id="analytics-dropdown" class="dropdown-content hidden ml-4 mt-1 space-y-1">
          <a href="analytics.html#performance" onclick="showSection('performance')" class="nav-item w-full text-left px-3 py-1.5 rounded text-white flex items-center space-x-2 text-xs hover:bg-white hover:bg-opacity-10">
            <i class="fas fa-chart-line w-3"></i>
            <span>Performance</span>
          </a>
          <a href="analytics.html#reports" onclick="showSection('reports')" class="nav-item w-full text-left px-3 py-1.5 rounded text-white flex items-center space-x-2 text-xs hover:bg-white hover:bg-opacity-10">
            <i class="fas fa-file-chart w-3"></i>
            <span>Reports</span>
          </a>
        </div>
      </div>
      
      <!-- System Dropdown -->
      <div class="nav-dropdown">
        <button onclick="toggleDropdown('system')" class="nav-item w-full text-left px-3 py-2 rounded-lg text-white flex items-center justify-between text-sm hover:bg-white hover:bg-opacity-10">
          <div class="flex items-center space-x-2">
            <i class="fas fa-cogs w-4"></i>
            <span>System</span>
          </div>
          <i class="fas fa-chevron-down w-3 dropdown-arrow transition-transform" id="system-arrow"></i>
        </button>
        <div id="system-dropdown" class="dropdown-content hidden ml-4 mt-1 space-y-1">
          <a href="system.html#integrations" onclick="showSection('integrations')" class="nav-item w-full text-left px-3 py-1.5 rounded text-white flex items-center space-x-2 text-xs hover:bg-white hover:bg-opacity-10">
            <i class="fas fa-plug w-3"></i>
            <span>Integrations</span>
          </a>
          <a href="system.html#compliance" onclick="showSection('compliance')" class="nav-item w-full text-left px-3 py-1.5 rounded text-white flex items-center space-x-2 text-xs hover:bg-white hover:bg-opacity-10">
            <i class="fas fa-shield-alt w-3"></i>
            <span>Compliance</span>
          </a>
        </div>
      </div>
        
        <a href="opportunities.html" class="nav-item w-full text-left px-3 py-2 rounded-lg text-white flex items-center space-x-2 text-sm hover:bg-white hover:bg-opacity-10">
          <i class="fas fa-briefcase w-4"></i>
          <span>View Opportunities</span>
        </a>
      </nav>
      
      <div class="mt-auto pt-6 border-t border-white border-opacity-20">
        <a href="#" class="nav-item w-full text-left px-4 py-3 rounded-lg text-white flex items-center space-x-3 font-medium">
          <i class="fas fa-cog w-5"></i>
          <span>Settings</span>
        </a>
        <a href="#" class="nav-item w-full text-left px-4 py-3 rounded-lg text-white flex items-center space-x-3 font-medium">
          <i class="fas fa-question-circle w-5"></i>
          <span>Help Center</span>
        </a>
        <a href="#" class="nav-item w-full text-left px-4 py-3 rounded-lg text-white flex items-center space-x-3 font-medium">
          <i class="fas fa-sign-out-alt w-5"></i>
          <span>Log Out</span>
        </a>
      </div>
    </div>
  </aside>

  <!-- Main Content -->
  <main class="main-content ml-0 md:ml-64 p-6 transition-all duration-300">
    <!-- Enhanced Interview Management Header -->
    <div class="employer-management-hero">
      <div class="hero-background">
        <div class="hero-pattern"></div>
        <div class="hero-gradient"></div>
      </div>
      
      <div class="hero-content">
        <div class="hero-icon">
          <i class="fas fa-calendar-alt"></i>
        </div>
        
        <div class="hero-text">
          <h1 class="hero-title">Interview Management</h1>
          <p class="hero-subtitle">Schedule and manage candidate interviews</p>
          
          <div class="hero-features">
            <span class="feature-tag">
              <i class="fas fa-calendar-plus"></i>
              Schedule Interviews
            </span>
            <span class="feature-tag">
              <i class="fas fa-video"></i>
              Virtual Meetings
            </span>
            <span class="feature-tag">
              <i class="fas fa-clock"></i>
              Time Management
            </span>
          </div>
        </div>
      </div>
      
      <div class="hero-actions">
        <button onclick="showScheduleInterviewModal()" class="hero-btn secondary">
          <i class="fas fa-calendar-plus"></i>
          Schedule Interview
        </button>
        <button onclick="exportInterviews()" class="hero-btn primary">
          <i class="fas fa-download"></i>
          Export Data
        </button>
      </div>
    </div>

    <!-- Interviews Section -->
    <section id="interviews-section">
      <div class="mb-6">
        <div class="flex justify-between items-center mb-6">
          <div class="flex space-x-3">
            <button onclick="showScheduleInterviewModal()" class="action-btn">
              <i class="fas fa-calendar-plus"></i>
              <span>Schedule Interview</span>
            </button>
            <button onclick="exportInterviews()" class="action-btn secondary">
              <i class="fas fa-download"></i>
              <span>Export</span>
            </button>
          </div>
        </div>

        <!-- Phase 1: Interview Scheduling Improvements -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
          <!-- Calendar View -->
          <div class="lg:col-span-2 bg-white rounded-lg shadow-sm border border-gray-200 p-6">
            <h3 class="text-lg font-semibold text-gray-900 mb-4">Interview Calendar</h3>
            <div id="interviewCalendar" class="min-h-96">
              <!-- Calendar will be rendered here -->
              <div class="grid grid-cols-7 gap-1 mb-4">
                <div class="text-center font-semibold text-gray-600 p-2">Sun</div>
                <div class="text-center font-semibold text-gray-600 p-2">Mon</div>
                <div class="text-center font-semibold text-gray-600 p-2">Tue</div>
                <div class="text-center font-semibold text-gray-600 p-2">Wed</div>
                <div class="text-center font-semibold text-gray-600 p-2">Thu</div>
                <div class="text-center font-semibold text-gray-600 p-2">Fri</div>
                <div class="text-center font-semibold text-gray-600 p-2">Sat</div>
              </div>
              <div id="calendarDays" class="grid grid-cols-7 gap-1">
                <!-- Calendar days will be populated by JavaScript -->
              </div>
            </div>
          </div>

          <!-- Quick Actions & Upcoming Interviews -->
          <div class="space-y-6">
            <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
              <h3 class="text-lg font-semibold text-gray-900 mb-4">Quick Actions</h3>
              <div class="space-y-3">
                <button onclick="showBulkScheduleModal()" class="w-full bg-blue-50 text-blue-600 px-4 py-3 rounded-lg hover:bg-blue-100 transition-colors text-left flex items-center space-x-3">
                  <i class="fas fa-calendar-week"></i>
                  <span>Bulk Schedule</span>
                </button>
                <button onclick="showAvailabilityModal()" class="w-full bg-green-50 text-green-600 px-4 py-3 rounded-lg hover:bg-green-100 transition-colors text-left flex items-center space-x-3">
                  <i class="fas fa-clock"></i>
                  <span>Set Availability</span>
                </button>
                <button onclick="sendReminders()" class="w-full bg-yellow-50 text-yellow-600 px-4 py-3 rounded-lg hover:bg-yellow-100 transition-colors text-left flex items-center space-x-3">
                  <i class="fas fa-bell"></i>
                  <span>Send Reminders</span>
                </button>
              </div>
            </div>

            <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
              <h3 class="text-lg font-semibold text-gray-900 mb-4">Today's Interviews</h3>
              <div id="todaysInterviews" class="space-y-3">
                <div class="flex items-center justify-between p-3 bg-blue-50 rounded-lg">
                  <div>
                    <div class="font-medium text-gray-900">John Doe</div>
                    <div class="text-sm text-gray-600">Software Engineer</div>
                  </div>
                  <div class="text-right">
                    <div class="text-sm font-medium text-blue-600">2:00 PM</div>
                    <div class="text-xs text-gray-500">30 min</div>
                  </div>
                </div>
                <div class="flex items-center justify-between p-3 bg-green-50 rounded-lg">
                  <div>
                    <div class="font-medium text-gray-900">Jane Smith</div>
                    <div class="text-sm text-gray-600">Marketing Intern</div>
                  </div>
                  <div class="text-right">
                    <div class="text-sm font-medium text-green-600">4:00 PM</div>
                    <div class="text-xs text-gray-500">45 min</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Interview Statistics -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-6">
          <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6 text-center">
            <div class="text-3xl font-bold text-blue-600 mb-2">24</div>
            <div class="text-gray-600">Scheduled This Week</div>
          </div>
          <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6 text-center">
            <div class="text-3xl font-bold text-green-600 mb-2">18</div>
            <div class="text-gray-600">Completed</div>
          </div>
          <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6 text-center">
            <div class="text-3xl font-bold text-yellow-600 mb-2">3</div>
            <div class="text-gray-600">Pending</div>
          </div>
          <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6 text-center">
            <div class="text-3xl font-bold text-red-600 mb-2">2</div>
            <div class="text-gray-600">Cancelled</div>
          </div>
        </div>
      </div>

      <!-- Scheduled Interviews Table -->
      <div class="bg-white rounded-lg shadow-sm border border-gray-200">
        <div class="p-6 border-b border-gray-200">
          <h3 class="text-lg font-semibold text-gray-900">All Scheduled Interviews</h3>
        </div>
        <div class="p-6" id="scheduledInterviewsTableContainer">
          <div class="overflow-x-auto">
            <table class="min-w-full divide-y divide-gray-200">
              <thead class="bg-gray-50">
                <tr>
                  <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Candidate</th>
                  <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Position</th>
                  <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Date & Time</th>
                  <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Interviewer</th>
                  <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                  <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                </tr>
              </thead>
              <tbody id="interviewsTableBody" class="bg-white divide-y divide-gray-200">
                <!-- Dynamic content will be inserted here -->
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Backend Integration Scripts -->
  <script src="js/api-utils.js"></script>
  <script src="js/interviews-backend.js"></script>
  
  <script>
    // Backend instance
    let interviewsBackend = null;
    
    // Interview Management Functions
    function showScheduleInterviewModal() {
      const modal = document.createElement('div');
      modal.id = 'scheduleInterviewModal';
      modal.className = 'fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50';
      modal.innerHTML = `
        <div class="bg-white rounded-lg shadow-lg p-8 w-full max-w-md relative" style="max-height:90vh; overflow-y:auto;">
          <span class="close absolute top-4 right-6 text-2xl cursor-pointer" onclick="document.body.removeChild(document.getElementById('scheduleInterviewModal'))">&times;</span>
          <h2 class="text-xl font-bold mb-4">Schedule New Interview</h2>
          <form id="scheduleInterviewForm" onsubmit="return false;">
            <div class="mb-3">
              <label class="block mb-1">Candidate Name</label>
              <input type="text" name="candidateName" required placeholder="Enter candidate name" class="w-full border rounded px-3 py-2">
            </div>
            <div class="mb-3">
              <label class="block mb-1">Position</label>
              <input type="text" name="position" required placeholder="e.g. Software Engineer" class="w-full border rounded px-3 py-2">
            </div>
            <div class="mb-3">
              <label class="block mb-1">Interview Time</label>
              <input type="datetime-local" name="interviewTime" required class="w-full border rounded px-3 py-2">
            </div>
            <div class="mb-3">
              <label class="block mb-1">Location</label>
              <input type="text" name="location" required placeholder="e.g. Boardroom 1" class="w-full border rounded px-3 py-2">
            </div>
            <div class="mb-3">
              <label class="block mb-1">Interviewer</label>
              <input type="text" name="interviewer" required placeholder="Enter interviewer name" class="w-full border rounded px-3 py-2">
            </div>
            <div class="mb-3">
              <label class="block mb-1">Note</label>
              <textarea name="note" placeholder="Additional notes..." class="w-full border rounded px-3 py-2"></textarea>
            </div>
            <div class="flex justify-between">
              <button type="button" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-700" onclick="document.body.removeChild(document.getElementById('scheduleInterviewModal'))">Cancel</button>
              <button type="button" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-700" onclick="saveScheduledInterview()">Schedule</button>
            </div>
          </form>
        </div>
      `;
      document.body.appendChild(modal);
    }

    async function saveScheduledInterview() {
      const form = document.getElementById('scheduleInterviewForm');
      const candidateName = form.candidateName.value;
      const position = form.position.value;
      const time = form.interviewTime.value;
      const location = form.location.value;
      const interviewer = form.interviewer.value;
      const note = form.note.value;
      
      if (!candidateName || !position || !time || !location || !interviewer) {
        return alert('Please fill all required fields.');
      }
      
      const interviewData = {
        candidate_name: candidateName,
        position: position,
        datetime: time,
        location: location,
        interviewer: interviewer,
        notes: note,
        status: 'scheduled'
      };
      
      try {
        if (interviewsBackend) {
          await interviewsBackend.scheduleInterview(interviewData);
        } else {
          // Fallback to local storage
          let scheduled = JSON.parse(localStorage.getItem('scheduledInterviews') || '[]');
          scheduled.push({
            name: candidateName,
            position: position,
            time: time,
            location: location,
            interviewer: interviewer,
            note: note,
            status: 'Scheduled'
          });
          localStorage.setItem('scheduledInterviews', JSON.stringify(scheduled));
        }
        
        document.body.removeChild(document.getElementById('scheduleInterviewModal'));
        alert('Interview scheduled successfully!');
        loadInterviews();
        loadInterviewStatistics();
      } catch (error) {
        console.error('Failed to schedule interview:', error);
        alert('Failed to schedule interview. Please try again.');
      }
    }

    async function exportInterviews() {
      try {
        if (interviewsBackend) {
          const exportData = await interviewsBackend.exportInterviews('csv');
          if (exportData.download_url) {
            window.open(exportData.download_url, '_blank');
          } else {
            alert('Export completed successfully!');
          }
        } else {
          // Fallback to local storage export
          const scheduled = JSON.parse(localStorage.getItem('scheduledInterviews') || '[]');
          if (!scheduled.length) {
            return alert('No interviews to export.');
          }
          
          const csvContent = "data:text/csv;charset=utf-8," 
            + "Candidate,Position,Date & Time,Location,Interviewer,Status,Note\n"
            + scheduled.map(interview => 
              `"${interview.name}","${interview.position}","${interview.time}","${interview.location}","${interview.interviewer}","${interview.status}","${interview.note || ''}"`
            ).join("\n");
          
          const encodedUri = encodeURI(csvContent);
          const link = document.createElement("a");
          link.setAttribute("href", encodedUri);
          link.setAttribute("download", `interviews_${new Date().toISOString().split('T')[0]}.csv`);
          document.body.appendChild(link);
          link.click();
          document.body.removeChild(link);
        }
      } catch (error) {
        console.error('Failed to export interviews:', error);
        alert('Failed to export interviews. Please try again.');
      }
    }

    function showBulkScheduleModal() {
      alert('Bulk schedule feature coming soon!');
    }

    function showAvailabilityModal() {
      alert('Set availability feature coming soon!');
    }

    async function sendReminders() {
      try {
        if (interviewsBackend) {
          // Get all scheduled interviews and send reminders
          const interviews = await interviewsBackend.loadInterviews();
          const scheduledInterviews = interviews.filter(interview => 
            interview.status === 'scheduled' || interview.status === 'Scheduled'
          );
          
          for (const interview of scheduledInterviews) {
            const interviewId = interview.id;
            if (interviewId) {
              await interviewsBackend.sendInterviewReminder(interviewId);
            }
          }
          
          alert(`Reminder notifications sent for ${scheduledInterviews.length} interviews!`);
        } else {
          alert('Reminder notifications sent!');
        }
      } catch (error) {
        console.error('Failed to send reminders:', error);
        alert('Failed to send reminders. Please try again.');
      }
    }

    function renderScheduledInterviewsTable(interviews = null) {
      let scheduled;
      if (interviews) {
        scheduled = interviews;
      } else {
        scheduled = JSON.parse(localStorage.getItem('scheduledInterviews') || '[]');
      }
      
      const tbody = document.getElementById('interviewsTableBody');
      if (!tbody) return;
      
      if (!scheduled.length) {
        tbody.innerHTML = '<tr><td colspan="6" class="text-center text-gray-500 py-8">No interviews scheduled yet.</td></tr>';
        return;
      }
      
      let html = '';
      scheduled.forEach((interview, idx) => {
        const name = interview.candidate_name || interview.name;
        const position = interview.position;
        const datetime = interview.date && interview.time ? `${interview.date} ${interview.time}` : interview.datetime || interview.time;
        const interviewer = interview.interviewer;
        const status = interview.status;
        
        const statusColor = status === 'completed' || status === 'Completed' ? 'bg-green-100 text-green-800' : 
                           status === 'cancelled' || status === 'Cancelled' ? 'bg-red-100 text-red-800' : 
                           'bg-blue-100 text-blue-800';
        
        const displayStatus = status.charAt(0).toUpperCase() + status.slice(1);
        
        html += `
          <tr>
            <td class="px-6 py-4 whitespace-nowrap">
              <div class="font-medium text-gray-900">${name}</div>
            </td>
            <td class="px-6 py-4 whitespace-nowrap text-gray-500">${position}</td>
            <td class="px-6 py-4 whitespace-nowrap text-gray-500">${new Date(datetime).toLocaleString()}</td>
            <td class="px-6 py-4 whitespace-nowrap text-gray-500">${interviewer}</td>
            <td class="px-6 py-4 whitespace-nowrap">
              <span class="px-2 py-1 text-xs font-medium rounded-full ${statusColor}">${displayStatus}</span>
            </td>
            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
              <button class="text-blue-600 hover:text-blue-900 mr-3" onclick="openRescheduleInterviewModal(${idx})">Edit</button>
              <button class="text-red-600 hover:text-red-900" onclick="deleteScheduledInterview(${idx})">Delete</button>
            </td>
          </tr>
        `;
      });
      tbody.innerHTML = html;
    }

    function openRescheduleInterviewModal(idx) {
      const scheduled = JSON.parse(localStorage.getItem('scheduledInterviews') || '[]');
      const interview = scheduled[idx];
      if (!interview) return;
      
      let modal = document.getElementById('rescheduleInterviewModal');
      if (modal) document.body.removeChild(modal);
      
      modal = document.createElement('div');
      modal.id = 'rescheduleInterviewModal';
      modal.className = 'fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50';
      modal.innerHTML = `
        <div class="bg-white rounded-lg shadow-lg p-8 w-full max-w-md relative" style="max-height:90vh; overflow-y:auto;">
          <span class="close absolute top-4 right-6 text-2xl cursor-pointer" onclick="document.body.removeChild(document.getElementById('rescheduleInterviewModal'))">&times;</span>
          <h2 class="text-xl font-bold mb-4">Edit Interview for ${interview.name}</h2>
          <form id="rescheduleInterviewForm" onsubmit="return false;">
            <div class="mb-3">
              <label class="block mb-1">Candidate Name</label>
              <input type="text" name="candidateName" required class="w-full border rounded px-3 py-2" value="${interview.name}">
            </div>
            <div class="mb-3">
              <label class="block mb-1">Position</label>
              <input type="text" name="position" required class="w-full border rounded px-3 py-2" value="${interview.position}">
            </div>
            <div class="mb-3">
              <label class="block mb-1">Interview Time</label>
              <input type="datetime-local" name="interviewTime" required class="w-full border rounded px-3 py-2" value="${interview.time}">
            </div>
            <div class="mb-3">
              <label class="block mb-1">Location</label>
              <input type="text" name="location" required class="w-full border rounded px-3 py-2" value="${interview.location}">
            </div>
            <div class="mb-3">
              <label class="block mb-1">Interviewer</label>
              <input type="text" name="interviewer" required class="w-full border rounded px-3 py-2" value="${interview.interviewer}">
            </div>
            <div class="mb-3">
              <label class="block mb-1">Status</label>
              <select name="status" class="w-full border rounded px-3 py-2">
                <option value="Scheduled" ${interview.status === 'Scheduled' ? 'selected' : ''}>Scheduled</option>
                <option value="Completed" ${interview.status === 'Completed' ? 'selected' : ''}>Completed</option>
                <option value="Cancelled" ${interview.status === 'Cancelled' ? 'selected' : ''}>Cancelled</option>
              </select>
            </div>
            <div class="mb-3">
              <label class="block mb-1">Note</label>
              <textarea name="note" class="w-full border rounded px-3 py-2">${interview.note || ''}</textarea>
            </div>
            <div class="flex justify-between mt-4">
              <button type="button" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-700" onclick="document.body.removeChild(document.getElementById('rescheduleInterviewModal'))">Cancel</button>
              <button type="button" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-700" onclick="saveRescheduledInterview(${idx})">Save Changes</button>
            </div>
          </form>
        </div>
      `;
      document.body.appendChild(modal);
    }

    async function saveRescheduledInterview(idx) {
      const form = document.getElementById('rescheduleInterviewForm');
      if (!form) return;
      
      const candidateName = form.candidateName.value;
      const position = form.position.value;
      const time = form.interviewTime.value;
      const location = form.location.value;
      const interviewer = form.interviewer.value;
      const status = form.status.value;
      const note = form.note.value;
      
      if (!candidateName || !position || !time || !location || !interviewer) {
        return alert('Please fill all required fields.');
      }
      
      try {
        if (interviewsBackend) {
          // Get the interview ID from the current data
          const scheduled = JSON.parse(localStorage.getItem('scheduledInterviews') || '[]');
          const interview = scheduled[idx];
          const interviewId = interview.id || idx + 1;
          
          if (status !== interview.status) {
            await interviewsBackend.updateInterviewStatus(interviewId, status.toLowerCase(), note);
          }
          
          if (time !== interview.time) {
            await interviewsBackend.rescheduleInterview(interviewId, time, 'Updated by employer');
          }
        } else {
          // Fallback to local storage
          const scheduled = JSON.parse(localStorage.getItem('scheduledInterviews') || '[]');
          scheduled[idx] = {
            name: candidateName,
            position: position,
            time: time,
            location: location,
            interviewer: interviewer,
            status: status,
            note: note
          };
          localStorage.setItem('scheduledInterviews', JSON.stringify(scheduled));
        }
        
        document.body.removeChild(document.getElementById('rescheduleInterviewModal'));
        alert('Interview updated successfully!');
        loadInterviews();
        loadInterviewStatistics();
      } catch (error) {
        console.error('Failed to update interview:', error);
        alert('Failed to update interview. Please try again.');
      }
    }

    async function deleteScheduledInterview(idx) {
      if (!confirm('Are you sure you want to delete this interview?')) return;
      
      try {
        if (interviewsBackend) {
          const scheduled = JSON.parse(localStorage.getItem('scheduledInterviews') || '[]');
          const interview = scheduled[idx];
          const interviewId = interview.id || idx + 1;
          
          await interviewsBackend.cancelInterview(interviewId, 'Cancelled by employer');
        } else {
          // Fallback to local storage
          let scheduled = JSON.parse(localStorage.getItem('scheduledInterviews') || '[]');
          scheduled.splice(idx, 1);
          localStorage.setItem('scheduledInterviews', JSON.stringify(scheduled));
        }
        
        alert('Interview deleted successfully!');
        loadInterviews();
        loadInterviewStatistics();
      } catch (error) {
        console.error('Failed to delete interview:', error);
        alert('Failed to delete interview. Please try again.');
      }
    }

    // Sidebar and Theme Functions
    function toggleSidebar() {
      const sidebar = document.getElementById('sidebar');
      const overlay = document.getElementById('sidebarOverlay');
      const isOpen = sidebar.classList.contains('translate-x-0');
      
      if (isOpen) {
        sidebar.classList.remove('translate-x-0');
        sidebar.classList.add('-translate-x-full');
        overlay.classList.add('hidden');
      } else {
        sidebar.classList.remove('-translate-x-full');
        sidebar.classList.add('translate-x-0');
        overlay.classList.remove('hidden');
      }
    }

    function toggleDropdown(dropdownId) {
      const dropdown = document.getElementById(dropdownId + '-dropdown');
      const arrow = document.getElementById(dropdownId + '-arrow');
      
      if (dropdown.classList.contains('hidden')) {
        dropdown.classList.remove('hidden');
        dropdown.classList.add('show');
        if (arrow) arrow.style.transform = 'rotate(180deg)';
      } else {
        dropdown.classList.add('hidden');
        dropdown.classList.remove('show');
        if (arrow) arrow.style.transform = 'rotate(0deg)';
      }
    }

    function toggleDarkMode() {
      const body = document.body;
      const isDark = body.getAttribute('data-theme') === 'dark';
      const icon = document.getElementById('darkModeIcon');
      
      if (isDark) {
        body.removeAttribute('data-theme');
        icon.className = 'fas fa-moon';
        localStorage.setItem('theme', 'light');
      } else {
        body.setAttribute('data-theme', 'dark');
        icon.className = 'fas fa-sun';
        localStorage.setItem('theme', 'dark');
      }
    }

    function initializeTheme() {
      const savedTheme = localStorage.getItem('theme');
      const icon = document.getElementById('darkModeIcon');
      
      if (savedTheme === 'dark') {
        document.body.setAttribute('data-theme', 'dark');
        if (icon) icon.className = 'fas fa-sun';
      }
    }

    // Initialize page
    document.addEventListener('DOMContentLoaded', function() {
      initializeTheme();
      
      // Initialize backend
      interviewsBackend = new InterviewsBackend();
      
      // Load initial data
      loadInterviews();
      loadInterviewStatistics();
      
      // Open management dropdown by default
      const managementDropdown = document.getElementById('management-dropdown');
      const managementArrow = document.getElementById('management-arrow');
      if (managementDropdown) {
        managementDropdown.classList.remove('hidden');
        managementDropdown.classList.add('show');
        if (managementArrow) managementArrow.style.transform = 'rotate(180deg)';
      }
    });
    
    // Load interviews from backend
    async function loadInterviews() {
      try {
        if (interviewsBackend) {
          const interviews = await interviewsBackend.loadInterviews();
          renderScheduledInterviewsTable(interviews);
        } else {
          renderScheduledInterviewsTable();
        }
      } catch (error) {
        console.error('Failed to load interviews:', error);
        renderScheduledInterviewsTable();
      }
    }
    
    // Load interview statistics from backend
    async function loadInterviewStatistics() {
      try {
        if (interviewsBackend) {
          const stats = await interviewsBackend.loadInterviewStatistics();
          updateStatisticsDisplay(stats);
        }
      } catch (error) {
        console.error('Failed to load interview statistics:', error);
      }
    }
    
    // Update statistics display
    function updateStatisticsDisplay(stats) {
      const statsCards = document.querySelectorAll('.grid.grid-cols-1.md\\:grid-cols-4 .bg-white');
      if (statsCards.length >= 4) {
        statsCards[0].querySelector('.text-3xl').textContent = stats.scheduled || 0;
        statsCards[1].querySelector('.text-3xl').textContent = stats.completed || 0;
        statsCards[2].querySelector('.text-3xl').textContent = stats.pending || 0;
        statsCards[3].querySelector('.text-3xl').textContent = stats.cancelled || 0;
      }
    }
  </script>
</body>
</html>